Дополнительно поставил для vscode плагин **ansible** а также необходимый для него пакет **ansible-lint**.

Он подсветил часть вещей, которые не использовались ранее, например:
- на верхнем уровне также нужно указывать параметр **name**, перед параметром **host**
- все названия нужно писать с заглавной буквы
- если на удаленной машине создаешь файл (copy или template) нужно указывать permissions через параметр mode

Ну исам плагин помогает при автосаджесте, проверке синтаксиса и выводе подсказке по встроенным командам ansible

Так же выяснил что при создании файлов и директорий, которые относятся к личным каталогам создаваемых пользователей, нужно указывать отдельно владельца и группу, иначе при попытке выполнить подключение через ssh под одним из этих пользователей выпадает ошибка: `Permission denied (publickey)` так как файл **authorized_keys** создается по умолчанию под парой **root:root** и новый пользователь не имеет к ней доступ. В **playbook** нужно указывать параметры `group` и `owner` на тех шагах где создаются/копируются файлы/директории.

Узнал что есть такой тэг skip_ansible_lint, который позволяет отключить линтер для определенной таски:

```
 tags:
    - skip_ansible_lint
```
